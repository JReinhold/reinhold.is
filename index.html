<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>reinhold.is</title>
	<meta name="author" content="Jeppe Reinhold">
	<meta name="description" content="Jeppe Reinhold's personal website">
	<meta name="keywords" content="Jeppe,Reinhold,reinhold.is">
	<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro"
	 rel="stylesheet">
	<style type="text/css">
		html,
		body {
			height: 100%
		}

		body {
			font-family: 'Source Code Pro', monospace;
		}

		.container {
			height: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
	</style>
</head>

<body>
	<div class="container">
		<span id='message'>
		  reinhold.is/working-on-it
	  </span>
		<br/>
		<a href="https://twitter.com/drreinhold">@DrReinhold</a>
	</div>
	<script src="baffle.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		var BAFFLE_DELAY_MS = 7 * 1000;
		var BAFFLE_DURATION_MS = 4 * 1000;

		//The possible sentences to cycle through
		var sentences = [
			'reinhold.is/a-work-in-progress',
			'reinhold.is/experimenting-with-things',
			'reinhold.is/making-progress',
			'reinhold.is/not-done-yet',
			'reinhold.is/getting-there',
			'reinhold.is/making-stuff-happen',
		];
		var lateSentences = [
			'So, why are you still here?',
			'You can leave now, nothing more to see here',
			"There really isn't anything here yet",
			"Don't you have anything else to do?",
			"You've spent too much time here",
		];

		//Initialize baffle, and start a 2 second baffle on page load
		var message = window.baffle('#message')
			.start()
			.reveal(2000);

		//The loop that keeps changing text
		// curText is the message currently shown, to make sure we don't show the same thing twice
		function baffleLoop(curSentence) {
			//Get a random sentence from the list, MINUS the current
			var randomSentence = getRandomSentence(curSentence);
			//baffle the text for BAFFLE_DURATION_MS milliseconds
			message
				.start()
				.text(function () {
					return randomSentence;
				})
				.reveal(BAFFLE_DURATION_MS, 1000);
		}

		//Returns a random sentence from the list, minus the current sentence
		function getRandomSentence(currentSentence) {
			//Make a copy of the original list
			var withoutCurrent = sentences.slice();
			//Remove current text
			withoutCurrent.splice(withoutCurrent.indexOf(currentSentence), 1);
			//Choose random
			var randomSentence = withoutCurrent[Math.floor(Math.random() * withoutCurrent.length)];
			return randomSentence;
		}

		//Start loop with a random sentence, it MUST be in the list.
		var loop = setInterval(function () {
			baffleLoop(sentences[0]);
		}, BAFFLE_DELAY_MS);

		setTimeout(function () {
			sentences = lateSentences;
		}, 60 * 1000)
	</script>
</body>

</html>
