<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>reinhold.is</title>
	<meta name="author" content="Jeppe Reinhold">
	<meta name="description" content="Jeppe Reinhold's personal website">
	<meta name="keywords" content="Jeppe,Reinhold,reinhold.is">
	<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro"
	 rel="stylesheet">
	<style type="text/css">
		html,
		body {
			height: 100%
		}

		body {
			font-family: 'Source Code Pro', monospace;
		}

		.container {
			height: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}

		#progress-bar-container {
			margin-top: 8px;
			margin-bottom: 16px;
			width: 300px;
		}

		#progress-bar {
			display: flex;
			justify-content: center;
		}

		#progress-bar > .bar {
			width: 100%;
			transition: width 5s linear;
		}
	</style>
</head>

<body>
	<div class="container">
		<span id='message'>
		  reinhold.is/working-on-it
	  </span>
		<div id="progress-bar-container"></div>
		<a href="https://twitter.com/drreinhold">@DrReinhold</a>
	</div>
	<script src="baffle.min.js" type="text/javascript"></script>
	<script src="nanobar.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		var options = {
			classname: 'progress',
			id: 'progress-bar',
			target: document.getElementById('progress-bar-container')
		};

		var nanobar = new Nanobar(options);

		setTimeout(function() {
			nanobar.go(0);
		}, 2000);

		var BAFFLE_DELAY_MS = 7 * 1000;
		var BAFFLE_DURATION_MS = 4 * 1000;

		//The possible sentences to cycle through
		var sentences = [
			'reinhold.is/a-work-in-progress',
			'reinhold.is/experimenting-with-things',
			'reinhold.is/making-progress',
			'reinhold.is/not-done-yet',
			'reinhold.is/getting-there',
			'reinhold.is/making-stuff-happen',
			'reinhold.is/on-twitter-â¬‡'
		];
		var lateSentences = [
			'So, why are you still here?',
			'You can leave now, nothing more to see here',
			"There really isn't anything here yet",
			"Don't you have anything else to do?",
			"You've spent too much time here",
		];
		var randomSentence = sentences[0];

		//init baffle
		var message = window.baffle('#message')
			.start()
			.reveal(2000);

		function baffleLoop(curSentence) {
			randomSentence = getRandomSentence(curSentence);
			message
				.start()
				.text(function (current) {
					return randomSentence;
				})
				.reveal(BAFFLE_DURATION_MS, 1000);
		}

		function getRandomSentence(currentSentence) {
			var withoutCurrent = sentences.slice();
			//Remove current text
			withoutCurrent.splice(withoutCurrent.indexOf(currentSentence), 1);
			//Choose random
			var randomSentence = withoutCurrent[Math.floor(Math.random() * withoutCurrent.length)];
			return randomSentence;
		}

		var loop = setInterval(function () {
			baffleLoop(randomSentence);
		}, BAFFLE_DELAY_MS);

		setTimeout(function () {
			sentences = lateSentences;
		}, 60 * 1000)
	</script>
</body>

</html>
